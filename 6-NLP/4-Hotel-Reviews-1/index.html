
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Machine-Learning">
      
      
        <meta name="author" content="Ean Yang">
      
      
        <link rel="canonical" href="https://eanyang7.github.io/Machine-Learning/6-NLP/4-Hotel-Reviews-1/">
      
      
        <link rel="prev" href="../3-Translation-Sentiment/solution/R/">
      
      
        <link rel="next" href="assignment/">
      
      
      <link rel="icon" href="../../assets/favicon.jpg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.10">
    
    
      
        <title>Sentiment analysis with hotel reviews - processing the data - Êú∫Âô®Â≠¶‰π† Âú®Á∫øÊïôÁ®ã</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fad675c6.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="deep-purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sentiment-analysis-with-hotel-reviews-processing-the-data" class="md-skip">
          Ë∑≥ËΩ¨Ëá≥
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="È°µÁúâ">
    <a href="../.." title="Êú∫Âô®Â≠¶‰π† Âú®Á∫øÊïôÁ®ã" class="md-header__button md-logo" aria-label="Êú∫Âô®Â≠¶‰π† Âú®Á∫øÊïôÁ®ã" data-md-component="logo">
      
  <img src="../../assets/logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Êú∫Âô®Â≠¶‰π† Âú®Á∫øÊïôÁ®ã
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Sentiment analysis with hotel reviews - processing the data
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="deep-purple"  aria-label="ÂàáÊç¢‰∏∫ÊöóÈªëÊ®°Âºè"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="ÂàáÊç¢‰∏∫ÊöóÈªëÊ®°Âºè" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="red"  aria-label="ÂàáÊç¢‰∏∫ÊµÖËâ≤Ê®°Âºè"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="ÂàáÊç¢‰∏∫ÊµÖËâ≤Ê®°Âºè" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="ÊêúÁ¥¢" placeholder="ÊêúÁ¥¢" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Êü•Êâæ">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="ÂàÜ‰∫´" aria-label="ÂàÜ‰∫´" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Ê∏ÖÁ©∫ÂΩìÂâçÂÜÖÂÆπ" aria-label="Ê∏ÖÁ©∫ÂΩìÂâçÂÜÖÂÆπ" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Ê≠£Âú®ÂàùÂßãÂåñÊêúÁ¥¢ÂºïÊìé
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/EanYang7/Machine-Learning" title="ÂâçÂæÄ‰ªìÂ∫ì" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    github‰ªìÂ∫ì
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="ÂØºËà™Ê†è" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Êú∫Âô®Â≠¶‰π† Âú®Á∫øÊïôÁ®ã" class="md-nav__button md-logo" aria-label="Êú∫Âô®Â≠¶‰π† Âú®Á∫øÊïôÁ®ã" data-md-component="logo">
      
  <img src="../../assets/logo.jpg" alt="logo">

    </a>
    Êú∫Âô®Â≠¶‰π† Âú®Á∫øÊïôÁ®ã
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/EanYang7/Machine-Learning" title="ÂâçÂæÄ‰ªìÂ∫ì" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    github‰ªìÂ∫ì
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Êú∫Âô®Â≠¶‰π†ËØæÁ®ã
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../1-Introduction/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    1 Introduction
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../2-Regression/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    2 Regression
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../3-Web-App/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    3 Web App
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../4-Classification/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    4 Classification
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../5-Clustering/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    5 Clustering
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    6 NLP
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            6 NLP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started with natural language processing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../README.zh-cn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ëá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜÂÖ•Èó®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../1-Introduction-to-NLP/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    1 Introduction to NLP
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../2-Tasks/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    2 Tasks
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../3-Translation-Sentiment/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    3 Translation Sentiment
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6" checked>
        
          
          <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    4 Hotel Reviews 1
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7_6">
            <span class="md-nav__icon md-icon"></span>
            4 Hotel Reviews 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Sentiment analysis with hotel reviews - processing the data
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Sentiment analysis with hotel reviews - processing the data
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="ÁõÆÂΩï">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ÁõÆÂΩï
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pre-lecture-quiz" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-lecture quiz
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pre-lecture quiz">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    <span class="md-ellipsis">
      Preparation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exploratory-data-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      Exploratory data analysis
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exploratory data analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dataset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hotel-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Hotel columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tags" class="md-nav__link">
    <span class="md-ellipsis">
      Tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#average-hotel-score" class="md-nav__link">
    <span class="md-ellipsis">
      Average hotel score
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise-data-exploration" class="md-nav__link">
    <span class="md-ellipsis">
      Exercise -  Data exploration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exercise - Data exploration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#load-the-data" class="md-nav__link">
    <span class="md-ellipsis">
      Load the data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explore-the-data" class="md-nav__link">
    <span class="md-ellipsis">
      Explore the data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataframe-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Dataframe operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dataframe operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#code-answers" class="md-nav__link">
    <span class="md-ellipsis">
      Code answers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#another-way" class="md-nav__link">
    <span class="md-ellipsis">
      Another way
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#challenge" class="md-nav__link">
    <span class="md-ellipsis">
      üöÄChallenge
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#post-lecture-quiz" class="md-nav__link">
    <span class="md-ellipsis">
      Post-lecture quiz
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#review-self-study" class="md-nav__link">
    <span class="md-ellipsis">
      Review &amp; Self Study
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#assignment" class="md-nav__link">
    <span class="md-ellipsis">
      Assignment
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="assignment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NLTK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="solution/Julia/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Solution
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../5-Hotel-Reviews-2/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    5 Hotel Reviews 2
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../data/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Data
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../7-TimeSeries/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    7 TimeSeries
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../8-Reinforcement/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    8 Reinforcement
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../9-Real-World/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    9 Real World
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="ÁõÆÂΩï">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ÁõÆÂΩï
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pre-lecture-quiz" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-lecture quiz
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pre-lecture quiz">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    <span class="md-ellipsis">
      Preparation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exploratory-data-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      Exploratory data analysis
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exploratory data analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dataset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hotel-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Hotel columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tags" class="md-nav__link">
    <span class="md-ellipsis">
      Tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#average-hotel-score" class="md-nav__link">
    <span class="md-ellipsis">
      Average hotel score
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise-data-exploration" class="md-nav__link">
    <span class="md-ellipsis">
      Exercise -  Data exploration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exercise - Data exploration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#load-the-data" class="md-nav__link">
    <span class="md-ellipsis">
      Load the data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explore-the-data" class="md-nav__link">
    <span class="md-ellipsis">
      Explore the data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataframe-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Dataframe operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dataframe operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#code-answers" class="md-nav__link">
    <span class="md-ellipsis">
      Code answers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#another-way" class="md-nav__link">
    <span class="md-ellipsis">
      Another way
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#challenge" class="md-nav__link">
    <span class="md-ellipsis">
      üöÄChallenge
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#post-lecture-quiz" class="md-nav__link">
    <span class="md-ellipsis">
      Post-lecture quiz
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#review-self-study" class="md-nav__link">
    <span class="md-ellipsis">
      Review &amp; Self Study
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#assignment" class="md-nav__link">
    <span class="md-ellipsis">
      Assignment
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/EanYang7/Machine-Learning/tree/main/docs/6-NLP/4-Hotel-Reviews-1/README.md" title="ÁºñËæëÊ≠§È°µ" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/EanYang7/Machine-Learning/tree/main/docs/6-NLP/4-Hotel-Reviews-1/README.md" title="Êü•ÁúãÊú¨È°µÁöÑÊ∫ê‰ª£Á†Å" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
    </a>
  


<h1 id="sentiment-analysis-with-hotel-reviews-processing-the-data">Sentiment analysis with hotel reviews - processing the data<a class="headerlink" href="#sentiment-analysis-with-hotel-reviews-processing-the-data" title="Permanent link">‚öìÔ∏é</a></h1>
<p>In this section you will use the techniques in the previous lessons to do some exploratory data analysis of a large dataset. Once you have a good understanding of the usefulness of the various columns, you will learn: </p>
<ul>
<li>how to remove the unnecessary columns</li>
<li>how to calculate some new data based on the existing columns</li>
<li>how to save the resulting dataset for use in the final challenge</li>
</ul>
<h2 id="pre-lecture-quiz"><a href="https://gray-sand-07a10f403.1.azurestaticapps.net/quiz/37/">Pre-lecture quiz</a><a class="headerlink" href="#pre-lecture-quiz" title="Permanent link">‚öìÔ∏é</a></h2>
<h3 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">‚öìÔ∏é</a></h3>
<p>So far you've learned about how text data is quite unlike numerical types of data. If it's text that was written or spoken by a human, if can be analysed to find patterns and frequencies, sentiment and meaning. This lesson takes you into a real data set with a real challenge: <strong><a href="https://www.kaggle.com/jiashenliu/515k-hotel-reviews-data-in-europe">515K Hotel Reviews Data in Europe</a></strong> and includes a <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0: Public Domain license</a>. It was scraped from Booking.com from public sources. The creator of the dataset was Jiashen Liu.</p>
<h3 id="preparation">Preparation<a class="headerlink" href="#preparation" title="Permanent link">‚öìÔ∏é</a></h3>
<p>You will need:</p>
<ul>
<li>The ability to run .ipynb notebooks using Python 3</li>
<li>pandas</li>
<li>NLTK, <a href="https://www.nltk.org/install.html">which you should install locally</a></li>
<li>The data set which is available on Kaggle <a href="https://www.kaggle.com/jiashenliu/515k-hotel-reviews-data-in-europe">515K Hotel Reviews Data in Europe</a>. It is around 230 MB unzipped. Download it to the root <code>/data</code> folder associated with these NLP lessons.</li>
</ul>
<h2 id="exploratory-data-analysis">Exploratory data analysis<a class="headerlink" href="#exploratory-data-analysis" title="Permanent link">‚öìÔ∏é</a></h2>
<p>This challenge assumes that you are building a hotel recommendation bot using sentiment analysis and guest reviews scores. The dataset you will be using includes reviews of 1493 different hotels in 6 cities. </p>
<p>Using Python, a dataset of hotel reviews, and NLTK's sentiment analysis you could find out:</p>
<ul>
<li>What are the most frequently used words and phrases in reviews?</li>
<li>Do the official <em>tags</em> describing a hotel correlate with review scores (e.g. are the more negative reviews for a particular hotel for  <em>Family with young children</em> than by <em>Solo traveller</em>, perhaps indicating it is better for <em>Solo travellers</em>?)</li>
<li>Do the NLTK sentiment scores 'agree' with the hotel reviewer's numerical score?</li>
</ul>
<h4 id="dataset">Dataset<a class="headerlink" href="#dataset" title="Permanent link">‚öìÔ∏é</a></h4>
<p>Let's explore the dataset that you've downloaded and saved locally. Open the file in an editor like VS Code or even Excel.</p>
<p>The headers in the dataset are as follows:</p>
<p><em>Hotel_Address, Additional_Number_of_Scoring, Review_Date, Average_Score, Hotel_Name, Reviewer_Nationality, Negative_Review, Review_Total_Negative_Word_Counts, Total_Number_of_Reviews, Positive_Review, Review_Total_Positive_Word_Counts, Total_Number_of_Reviews_Reviewer_Has_Given, Reviewer_Score, Tags, days_since_review, lat, lng</em></p>
<p>Here they are grouped in a way that might be easier to examine: </p>
<h5 id="hotel-columns">Hotel columns<a class="headerlink" href="#hotel-columns" title="Permanent link">‚öìÔ∏é</a></h5>
<ul>
<li><code>Hotel_Name</code>, <code>Hotel_Address</code>, <code>lat</code> (latitude), <code>lng</code> (longitude)</li>
<li>Using <em>lat</em> and <em>lng</em> you could plot a map with Python showing the hotel locations (perhaps color coded for negative and positive reviews)</li>
<li>Hotel_Address is not obviously useful to us, and we'll probably replace that with a country for easier sorting &amp; searching</li>
</ul>
<p><strong>Hotel Meta-review columns</strong></p>
<ul>
<li><code>Average_Score</code></li>
<li>According to the dataset creator, this column is the <em>Average Score of the hotel, calculated based on the latest comment in the last year</em>. This seems like an unusual way to calculate the score, but it is the data scraped so we may take it as face value for now. </li>
</ul>
<p>‚úÖ Based on the other columns in this data, can you think of another way to calculate the average score?</p>
<ul>
<li><code>Total_Number_of_Reviews</code></li>
<li>The total number of reviews this hotel has received - it is not clear (without writing some code) if this refers to the reviews in the dataset.</li>
<li><code>Additional_Number_of_Scoring</code></li>
<li>This means a review score was given but no positive or negative review was written by the reviewer</li>
</ul>
<p><strong>Review columns</strong></p>
<ul>
<li><code>Reviewer_Score</code></li>
<li>This is a numerical value with at most 1 decimal place between the min and max values 2.5 and 10</li>
<li>It is not explained why 2.5 is the lowest score possible</li>
<li><code>Negative_Review</code></li>
<li>If a reviewer wrote nothing, this field will have "<strong>No Negative</strong>"</li>
<li>Note that a reviewer may write a positive review in the Negative review column (e.g. "there is nothing bad about this hotel")</li>
<li><code>Review_Total_Negative_Word_Counts</code></li>
<li>Higher negative word counts indicate a lower score (without checking the sentimentality)</li>
<li><code>Positive_Review</code></li>
<li>If a reviewer wrote nothing, this field will have "<strong>No Positive</strong>"</li>
<li>Note that a reviewer may write a negative review in the Positive review column (e.g. "there is nothing good about this hotel at all")</li>
<li><code>Review_Total_Positive_Word_Counts</code></li>
<li>Higher positive word counts indicate a higher score (without checking the sentimentality)</li>
<li><code>Review_Date</code> and <code>days_since_review</code></li>
<li>A freshness or staleness measure might be applied to a review (older reviews might not be as accurate as newer ones because hotel management changed, or renovations have been done, or a pool was added etc.)</li>
<li><code>Tags</code></li>
<li>These are short descriptors that a reviewer may select to describe the type of guest they were (e.g. solo or family), the type of room they had, the length of stay and how the review was submitted. </li>
<li>Unfortunately, using these tags is problematic, check the section below which discusses their usefulness</li>
</ul>
<p><strong>Reviewer columns</strong></p>
<ul>
<li><code>Total_Number_of_Reviews_Reviewer_Has_Given</code></li>
<li>This might be a factor in a recommendation model, for instance, if you could determine that more prolific reviewers with hundreds of reviews were more likely to be negative rather than positive. However, the reviewer of any particular review is not identified with a unique code, and therefore cannot be linked to a set of reviews. There are 30 reviewers with 100 or more reviews, but it's hard to see how this can aid the recommendation model.</li>
<li><code>Reviewer_Nationality</code></li>
<li>Some people might think that certain nationalities are more likely to give a positive or negative review because of a national inclination. Be careful building such anecdotal views into your models. These are national (and sometimes racial) stereotypes, and each reviewer was an individual who wrote a review based on their experience. It may have been filtered through many lenses such as their previous hotel stays, the distance travelled, and their personal temperament. Thinking that their nationality was the reason for a review score is hard to justify.</li>
</ul>
<h5 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">‚öìÔ∏é</a></h5>
<table>
<thead>
<tr>
<th>Average  Score</th>
<th>Total Number   Reviews</th>
<th>Reviewer   Score</th>
<th style="text-align: left;">Negative <br />Review</th>
<th>Positive   Review</th>
<th>Tags</th>
</tr>
</thead>
<tbody>
<tr>
<td>7.8</td>
<td>1945</td>
<td>2.5</td>
<td style="text-align: left;">This is  currently not a hotel but a construction site I was terrorized from early  morning and all day with unacceptable building noise while resting after a  long trip and working in the room People were working all day i e with  jackhammers in the adjacent rooms I asked for a room change but no silent  room was available To make things worse I was overcharged I checked out in  the evening since I had to leave very early flight and received an appropriate  bill A day later the hotel made another charge without my consent in excess  of booked price It's a terrible place Don't punish yourself by booking  here</td>
<td>Nothing  Terrible place Stay away</td>
<td>Business trip                                Couple Standard Double  Room Stayed 2 nights</td>
</tr>
</tbody>
</table>
<p>As you can see, this guest did not have a happy stay at this hotel. The hotel has a good average score of 7.8 and 1945 reviews, but this reviewer gave it 2.5 and wrote 115 words about how negative their stay was. If they wrote nothing at all in the Positive_Review column, you might surmise there was nothing positive, but alas they wrote 7 words of warning. If we just counted words instead of the meaning, or sentiment of the words, we might have a skewed view of the reviewer's intent. Strangely, their score of 2.5 is confusing, because if that hotel stay was so bad, why give it any points at all? Investigating the dataset closely, you'll see that the lowest possible score is 2.5, not 0. The highest possible score is 10.</p>
<h5 id="tags">Tags<a class="headerlink" href="#tags" title="Permanent link">‚öìÔ∏é</a></h5>
<p>As mentioned above, at first glance, the idea to use <code>Tags</code> to categorize the data makes sense. Unfortunately these tags are not standardized, which means that in a given hotel, the options might be <em>Single room</em>, <em>Twin room</em>, and <em>Double room</em>, but in the next hotel, they are <em>Deluxe Single Room</em>, <em>Classic Queen Room</em>, and <em>Executive King Room</em>. These might be the same things, but there are so many variations that the choice becomes:</p>
<ol>
<li>
<p>Attempt to change all terms to a single standard, which is very difficult, because it is not clear what the conversion path would be in each case (e.g. <em>Classic single room</em> maps to <em>Single room</em> but <em>Superior Queen Room with Courtyard Garden or City View</em> is much harder to map)</p>
</li>
<li>
<p>We can take an NLP approach and measure the frequency of certain terms like <em>Solo</em>, <em>Business Traveller</em>, or <em>Family with young kids</em> as they apply to each hotel, and factor that into the recommendation  </p>
</li>
</ol>
<p>Tags are usually (but not always) a single field containing a list of 5 to 6 comma separated values aligning to <em>Type of trip</em>, <em>Type of guests</em>, <em>Type of room</em>, <em>Number of nights</em>, and <em>Type of device review was submitted on</em>. However, because some reviewers don't fill in each field (they might leave one blank), the values are not always in the same order.</p>
<p>As an example, take <em>Type of group</em>. There are 1025 unique possibilities in this field in the <code>Tags</code> column, and unfortunately only some of them refer to a group (some are the type of room etc.). If you filter only the ones that mention family, the results contain many <em>Family room</em> type results. If you include the term <em>with</em>, i.e. count the <em>Family with</em> values, the results are better, with over 80,000 of the 515,000 results containing the phrase "Family with young children" or "Family with older children".</p>
<p>This means the tags column is not completely useless to us, but it will take some work to make it useful.</p>
<h5 id="average-hotel-score">Average hotel score<a class="headerlink" href="#average-hotel-score" title="Permanent link">‚öìÔ∏é</a></h5>
<p>There are a number of oddities or discrepancies with the data set that I can't figure out, but are illustrated here so you are aware of them when building your models. If you figure it out, please let us know in the discussion section!</p>
<p>The dataset has the following columns relating to the average score and number of reviews: </p>
<ol>
<li>Hotel_Name</li>
<li>Additional_Number_of_Scoring</li>
<li>Average_Score</li>
<li>Total_Number_of_Reviews</li>
<li>Reviewer_Score  </li>
</ol>
<p>The single hotel with the most reviews in this dataset is <em>Britannia International Hotel Canary Wharf</em> with 4789 reviews out of 515,000. But if we look at the <code>Total_Number_of_Reviews</code> value for this hotel, it is 9086. You might surmise that there are many more scores without reviews, so perhaps we should add in the <code>Additional_Number_of_Scoring</code> column value. That value is 2682, and adding it to 4789 gets us 7,471 which is still 1615 short of the <code>Total_Number_of_Reviews</code>. </p>
<p>If you take the <code>Average_Score</code> columns, you might surmise it is the average of the reviews in the dataset, but the description from Kaggle is "<em>Average Score of the hotel, calculated based on the latest comment in the last year</em>". That doesn't seem that useful, but we can calculate our own average based on the reviews scores in the data set. Using the same hotel as an example, the average hotel score is given as 7.1 but the calculated score (average reviewer score <em>in</em> the dataset) is 6.8. This is close, but not the same value, and we can only guess that the scores given in the <code>Additional_Number_of_Scoring</code> reviews increased the average to 7.1. Unfortunately with no way to test or prove that assertion, it is difficult to use or trust <code>Average_Score</code>, <code>Additional_Number_of_Scoring</code> and <code>Total_Number_of_Reviews</code> when they are based on, or refer to, data we do not have.</p>
<p>To complicate things further, the hotel with the second highest number of reviews has a calculated average score of 8.12 and the dataset <code>Average_Score</code> is 8.1. Is this correct score a coincidence or is the first hotel a discrepancy? </p>
<p>On the possibility that these hotel might be an outlier, and that maybe most of the values tally up (but some do not for some reason) we will write a short program next to explore the values in the dataset and determine the correct usage (or non-usage) of the values.</p>
<blockquote>
<p>üö® A note of caution</p>
<p>When working with this dataset you will write code that calculates something from the text without having to read or analyse the text yourself. This is the essence of NLP, interpreting meaning or sentiment without having to have a human do it. However, it is possible that you will read some of the negative reviews. I would urge you not to, because you don't have to. Some of them are silly, or irrelevant negative hotel reviews, such as  "The weather wasn't great", something beyond the control of the hotel, or indeed, anyone. But there is a dark side to some reviews too. Sometimes the negative reviews are racist, sexist, or ageist. This is unfortunate but to be expected in a dataset scraped off a public website. Some reviewers leave reviews that you would find distasteful, uncomfortable, or upsetting. Better to let the code measure the sentiment than read them yourself and be upset. That said, it is a minority that write such things, but they exist all the same. </p>
</blockquote>
<h2 id="exercise-data-exploration">Exercise -  Data exploration<a class="headerlink" href="#exercise-data-exploration" title="Permanent link">‚öìÔ∏é</a></h2>
<h3 id="load-the-data">Load the data<a class="headerlink" href="#load-the-data" title="Permanent link">‚öìÔ∏é</a></h3>
<p>That's enough examining the data visually, now you'll write some code and get some answers! This section uses the pandas library. Your very first task is to ensure you can load and read the CSV data. The pandas library has a fast CSV loader, and the result is placed in a dataframe, as in previous lessons. The CSV we are loading has over half a million rows, but only 17 columns. Pandas gives you lots of powerful ways to interact with a dataframe, including the ability to perform operations on every row. </p>
<p>From here on in this lesson, there will be code snippets and some explanations of the code and some discussion about what the results mean. Use the included <em>notebook.ipynb</em> for your code.</p>
<p>Let's start with loading the data file you be using:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Load the hotel reviews from CSV</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="c1"># importing time so the start and end time can be used to calculate file loading time</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loading data file now, this could take a while depending on file size&quot;</span><span class="p">)</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="c1"># df is &#39;DataFrame&#39; - make sure you downloaded the file to the data folder</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../../data/Hotel_Reviews.csv&#39;</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loading took &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; seconds&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Now that the data is loaded, we can perform some operations on it. Keep this code at the top of your program for the next part.</p>
<h2 id="explore-the-data">Explore the data<a class="headerlink" href="#explore-the-data" title="Permanent link">‚öìÔ∏é</a></h2>
<p>In this case, the data is already <em>clean</em>, that means that it is ready to work with, and does not have characters in other languages that might trip up algorithms expecting only English characters. </p>
<p>‚úÖ You might have to work with data that required some initial processing to format it before applying NLP techniques, but not this time. If you had to, how would you handle non-English characters?</p>
<p>Take a moment to ensure that once the data is loaded, you can explore it with code. It's very easy to want to focus on the <code>Negative_Review</code> and <code>Positive_Review</code> columns. They are filled with natural text for your NLP algorithms to process. But wait! Before you jump into the NLP and sentiment, you should follow the code below to ascertain if the values given in the dataset match the values you calculate with pandas.</p>
<h2 id="dataframe-operations">Dataframe operations<a class="headerlink" href="#dataframe-operations" title="Permanent link">‚öìÔ∏é</a></h2>
<p>The first task in this lesson is to check if the following assertions are correct by writing some code that examines the data frame (without changing it).</p>
<blockquote>
<p>Like many programming tasks, there are several ways to complete this, but good advice is to do it in the simplest, easiest way you can, especially if it will be easier to understand when you come back to this code in the future. With dataframes, there is a comprehensive API that will often have a way to do what you want efficiently.</p>
</blockquote>
<p>Treat the following questions as coding tasks and attempt to answer them without looking at the solution. </p>
<ol>
<li>Print out the <em>shape</em> of the data frame you have just loaded (the shape is the number of rows and columns)</li>
<li>Calculate the frequency count for reviewer nationalities:</li>
<li>How many distinct values are there for the column <code>Reviewer_Nationality</code> and what are they?</li>
<li>What reviewer nationality is the most common in the dataset (print country and number of reviews)?</li>
<li>What are the next top 10 most frequently found nationalities, and their frequency count?</li>
<li>What was the most frequently reviewed hotel for each of the top 10 most reviewer nationalities?</li>
<li>How many reviews are there per hotel (frequency count of hotel) in the dataset?</li>
<li>While there is an <code>Average_Score</code> column for each hotel in the dataset, you can also calculate an average score (getting the average of all reviewer scores in the dataset for each hotel). Add a new column to your dataframe with the column header <code>Calc_Average_Score</code> that contains that calculated average. </li>
<li>Do any hotels have the same (rounded to 1 decimal place) <code>Average_Score</code> and <code>Calc_Average_Score</code>?</li>
<li>Try writing a Python function that takes a Series (row) as an argument and compares the values, printing out a message when the values are not equal. Then use the <code>.apply()</code> method to process every row with the function.</li>
<li>Calculate and print out how many rows have column <code>Negative_Review</code> values of "No Negative" </li>
<li>Calculate and print out how many rows have column <code>Positive_Review</code> values of "No Positive"</li>
<li>Calculate and print out how many rows have column <code>Positive_Review</code> values of "No Positive" <strong>and</strong> <code>Negative_Review</code> values of "No Negative"</li>
</ol>
<h3 id="code-answers">Code answers<a class="headerlink" href="#code-answers" title="Permanent link">‚öìÔ∏é</a></h3>
<ol>
<li>Print out the <em>shape</em> of the data frame you have just loaded (the shape is the number of rows and columns)</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The shape of the data (rows, cols) is &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
<span class="o">&gt;</span> <span class="n">The</span> <span class="n">shape</span> <span class="n">of</span> <span class="n">the</span> <span class="n">data</span> <span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">)</span> <span class="ow">is</span> <span class="p">(</span><span class="mi">515738</span><span class="p">,</span> <span class="mi">17</span><span class="p">)</span>
</code></pre></div>
<ol>
<li>
<p>Calculate the frequency count for reviewer nationalities:</p>
</li>
<li>
<p>How many distinct values are there for the column <code>Reviewer_Nationality</code> and what are they?</p>
</li>
<li>What reviewer nationality is the most common in the dataset (print country and number of reviews)?</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c1"># value_counts() creates a Series object that has index and values in this case, the country and the frequency they occur in reviewer nationality</span>
<span class="n">nationality_freq</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;Reviewer_Nationality&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There are &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">nationality_freq</span><span class="o">.</span><span class="n">size</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; different nationalities&quot;</span><span class="p">)</span>
<span class="c1"># print first and last rows of the Series. Change to nationality_freq.to_string() to print all of the data</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nationality_freq</span><span class="p">)</span> 

<span class="n">There</span> <span class="n">are</span> <span class="mi">227</span> <span class="n">different</span> <span class="n">nationalities</span>
 <span class="n">United</span> <span class="n">Kingdom</span>               <span class="mi">245246</span>
 <span class="n">United</span> <span class="n">States</span> <span class="n">of</span> <span class="n">America</span>      <span class="mi">35437</span>
 <span class="n">Australia</span>                     <span class="mi">21686</span>
 <span class="n">Ireland</span>                       <span class="mi">14827</span>
 <span class="n">United</span> <span class="n">Arab</span> <span class="n">Emirates</span>          <span class="mi">10235</span>
                               <span class="o">...</span>  
 <span class="n">Comoros</span>                           <span class="mi">1</span>
 <span class="n">Palau</span>                             <span class="mi">1</span>
 <span class="n">Northern</span> <span class="n">Mariana</span> <span class="n">Islands</span>          <span class="mi">1</span>
 <span class="n">Cape</span> <span class="n">Verde</span>                        <span class="mi">1</span>
 <span class="n">Guinea</span>                            <span class="mi">1</span>
<span class="n">Name</span><span class="p">:</span> <span class="n">Reviewer_Nationality</span><span class="p">,</span> <span class="n">Length</span><span class="p">:</span> <span class="mi">227</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">int64</span>
</code></pre></div>
<ol>
<li>
<p>What are the next top 10 most frequently found nationalities, and their frequency count?</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The highest frequency reviewer nationality is &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">nationality_freq</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot; with &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">nationality_freq</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot; reviews.&quot;</span><span class="p">)</span>
<span class="c1"># Notice there is a leading space on the values, strip() removes that for printing</span>
<span class="c1"># What is the top 10 most common nationalities and their frequencies?</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The next 10 highest frequency reviewer nationalities are:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nationality_freq</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">11</span><span class="p">]</span><span class="o">.</span><span class="n">to_string</span><span class="p">())</span>

<span class="n">The</span> <span class="n">highest</span> <span class="n">frequency</span> <span class="n">reviewer</span> <span class="n">nationality</span> <span class="ow">is</span> <span class="n">United</span> <span class="n">Kingdom</span> <span class="k">with</span> <span class="mi">245246</span> <span class="n">reviews</span><span class="o">.</span>
<span class="n">The</span> <span class="nb">next</span> <span class="mi">10</span> <span class="n">highest</span> <span class="n">frequency</span> <span class="n">reviewer</span> <span class="n">nationalities</span> <span class="n">are</span><span class="p">:</span>
 <span class="n">United</span> <span class="n">States</span> <span class="n">of</span> <span class="n">America</span>     <span class="mi">35437</span>
 <span class="n">Australia</span>                    <span class="mi">21686</span>
 <span class="n">Ireland</span>                      <span class="mi">14827</span>
 <span class="n">United</span> <span class="n">Arab</span> <span class="n">Emirates</span>         <span class="mi">10235</span>
 <span class="n">Saudi</span> <span class="n">Arabia</span>                  <span class="mi">8951</span>
 <span class="n">Netherlands</span>                   <span class="mi">8772</span>
 <span class="n">Switzerland</span>                   <span class="mi">8678</span>
 <span class="n">Germany</span>                       <span class="mi">7941</span>
 <span class="n">Canada</span>                        <span class="mi">7894</span>
 <span class="n">France</span>                        <span class="mi">7296</span>
</code></pre></div>
</li>
<li>
<p>What was the most frequently reviewed hotel for each of the top 10 most reviewer nationalities?</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c1"># What was the most frequently reviewed hotel for the top 10 nationalities</span>
<span class="c1"># Normally with pandas you will avoid an explicit loop, but wanted to show creating a new dataframe using criteria (don&#39;t do this with large amounts of data because it could be very slow)</span>
<span class="k">for</span> <span class="n">nat</span> <span class="ow">in</span> <span class="n">nationality_freq</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
   <span class="c1"># First, extract all the rows that match the criteria into a new dataframe</span>
   <span class="n">nat_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Reviewer_Nationality&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">nat</span><span class="p">]</span>   
   <span class="c1"># Now get the hotel freq</span>
   <span class="n">freq</span> <span class="o">=</span> <span class="n">nat_df</span><span class="p">[</span><span class="s2">&quot;Hotel_Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The most reviewed hotel for &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">nat</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot; was &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">freq</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot; with &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">freq</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot; reviews.&quot;</span><span class="p">)</span> 

<span class="n">The</span> <span class="n">most</span> <span class="n">reviewed</span> <span class="n">hotel</span> <span class="k">for</span> <span class="n">United</span> <span class="n">Kingdom</span> <span class="n">was</span> <span class="n">Britannia</span> <span class="n">International</span> <span class="n">Hotel</span> <span class="n">Canary</span> <span class="n">Wharf</span> <span class="k">with</span> <span class="mi">3833</span> <span class="n">reviews</span><span class="o">.</span>
<span class="n">The</span> <span class="n">most</span> <span class="n">reviewed</span> <span class="n">hotel</span> <span class="k">for</span> <span class="n">United</span> <span class="n">States</span> <span class="n">of</span> <span class="n">America</span> <span class="n">was</span> <span class="n">Hotel</span> <span class="n">Esther</span> <span class="n">a</span> <span class="k">with</span> <span class="mi">423</span> <span class="n">reviews</span><span class="o">.</span>
<span class="n">The</span> <span class="n">most</span> <span class="n">reviewed</span> <span class="n">hotel</span> <span class="k">for</span> <span class="n">Australia</span> <span class="n">was</span> <span class="n">Park</span> <span class="n">Plaza</span> <span class="n">Westminster</span> <span class="n">Bridge</span> <span class="n">London</span> <span class="k">with</span> <span class="mi">167</span> <span class="n">reviews</span><span class="o">.</span>
<span class="n">The</span> <span class="n">most</span> <span class="n">reviewed</span> <span class="n">hotel</span> <span class="k">for</span> <span class="n">Ireland</span> <span class="n">was</span> <span class="n">Copthorne</span> <span class="n">Tara</span> <span class="n">Hotel</span> <span class="n">London</span> <span class="n">Kensington</span> <span class="k">with</span> <span class="mi">239</span> <span class="n">reviews</span><span class="o">.</span>
<span class="n">The</span> <span class="n">most</span> <span class="n">reviewed</span> <span class="n">hotel</span> <span class="k">for</span> <span class="n">United</span> <span class="n">Arab</span> <span class="n">Emirates</span> <span class="n">was</span> <span class="n">Millennium</span> <span class="n">Hotel</span> <span class="n">London</span> <span class="n">Knightsbridge</span> <span class="k">with</span> <span class="mi">129</span> <span class="n">reviews</span><span class="o">.</span>
<span class="n">The</span> <span class="n">most</span> <span class="n">reviewed</span> <span class="n">hotel</span> <span class="k">for</span> <span class="n">Saudi</span> <span class="n">Arabia</span> <span class="n">was</span> <span class="n">The</span> <span class="n">Cumberland</span> <span class="n">A</span> <span class="n">Guoman</span> <span class="n">Hotel</span> <span class="k">with</span> <span class="mi">142</span> <span class="n">reviews</span><span class="o">.</span>
<span class="n">The</span> <span class="n">most</span> <span class="n">reviewed</span> <span class="n">hotel</span> <span class="k">for</span> <span class="n">Netherlands</span> <span class="n">was</span> <span class="n">Jaz</span> <span class="n">Amsterdam</span> <span class="k">with</span> <span class="mi">97</span> <span class="n">reviews</span><span class="o">.</span>
<span class="n">The</span> <span class="n">most</span> <span class="n">reviewed</span> <span class="n">hotel</span> <span class="k">for</span> <span class="n">Switzerland</span> <span class="n">was</span> <span class="n">Hotel</span> <span class="n">Da</span> <span class="n">Vinci</span> <span class="k">with</span> <span class="mi">97</span> <span class="n">reviews</span><span class="o">.</span>
<span class="n">The</span> <span class="n">most</span> <span class="n">reviewed</span> <span class="n">hotel</span> <span class="k">for</span> <span class="n">Germany</span> <span class="n">was</span> <span class="n">Hotel</span> <span class="n">Da</span> <span class="n">Vinci</span> <span class="k">with</span> <span class="mi">86</span> <span class="n">reviews</span><span class="o">.</span>
<span class="n">The</span> <span class="n">most</span> <span class="n">reviewed</span> <span class="n">hotel</span> <span class="k">for</span> <span class="n">Canada</span> <span class="n">was</span> <span class="n">St</span> <span class="n">James</span> <span class="n">Court</span> <span class="n">A</span> <span class="n">Taj</span> <span class="n">Hotel</span> <span class="n">London</span> <span class="k">with</span> <span class="mi">61</span> <span class="n">reviews</span><span class="o">.</span>
</code></pre></div>
<ol>
<li>How many reviews are there per hotel (frequency count of hotel) in the dataset?</li>
</ol>
<p><div class="highlight"><pre><span></span><code><span class="c1"># First create a new dataframe based on the old one, removing the uneeded columns</span>
<span class="n">hotel_freq_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s2">&quot;Hotel_Address&quot;</span><span class="p">,</span> <span class="s2">&quot;Additional_Number_of_Scoring&quot;</span><span class="p">,</span> <span class="s2">&quot;Review_Date&quot;</span><span class="p">,</span> <span class="s2">&quot;Average_Score&quot;</span><span class="p">,</span> <span class="s2">&quot;Reviewer_Nationality&quot;</span><span class="p">,</span> <span class="s2">&quot;Negative_Review&quot;</span><span class="p">,</span> <span class="s2">&quot;Review_Total_Negative_Word_Counts&quot;</span><span class="p">,</span> <span class="s2">&quot;Positive_Review&quot;</span><span class="p">,</span> <span class="s2">&quot;Review_Total_Positive_Word_Counts&quot;</span><span class="p">,</span> <span class="s2">&quot;Total_Number_of_Reviews_Reviewer_Has_Given&quot;</span><span class="p">,</span> <span class="s2">&quot;Reviewer_Score&quot;</span><span class="p">,</span> <span class="s2">&quot;Tags&quot;</span><span class="p">,</span> <span class="s2">&quot;days_since_review&quot;</span><span class="p">,</span> <span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="s2">&quot;lng&quot;</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Group the rows by Hotel_Name, count them and put the result in a new column Total_Reviews_Found</span>
<span class="n">hotel_freq_df</span><span class="p">[</span><span class="s1">&#39;Total_Reviews_Found&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">hotel_freq_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Hotel_Name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>

<span class="c1"># Get rid of all the duplicated rows</span>
<span class="n">hotel_freq_df</span> <span class="o">=</span> <span class="n">hotel_freq_df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Hotel_Name&quot;</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">hotel_freq_df</span><span class="p">)</span> 
</code></pre></div>
   |                 Hotel_Name                 | Total_Number_of_Reviews | Total_Reviews_Found |
   | :----------------------------------------: | :---------------------: | :-----------------: |
   | Britannia International Hotel Canary Wharf |          9086           |        4789         |
   |    Park Plaza Westminster Bridge London    |          12158          |        4169         |
   |   Copthorne Tara Hotel London Kensington   |          7105           |        3578         |
   |                    ...                     |           ...           |         ...         |
   |       Mercure Paris Porte d Orleans        |           110           |         10          |
   |                Hotel Wagner                |           135           |         10          |
   |            Hotel Gallitzinberg             |           173           |          8          |</p>
<p>You may notice that the <em>counted in the dataset</em> results do not match the value in <code>Total_Number_of_Reviews</code>. It is unclear if this value in the dataset represented the total number of reviews the hotel had, but not all were scraped, or some other calculation. <code>Total_Number_of_Reviews</code> is not used in the model because of this unclarity.</p>
<ol>
<li>While there is an <code>Average_Score</code> column for each hotel in the dataset, you can also calculate an average score (getting the average of all reviewer scores in the dataset for each hotel). Add a new column to your dataframe with the column header <code>Calc_Average_Score</code> that contains that calculated average. Print out the columns <code>Hotel_Name</code>, <code>Average_Score</code>, and <code>Calc_Average_Score</code>.</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c1"># define a function that takes a row and performs some calculation with it</span>
<span class="k">def</span> <span class="nf">get_difference_review_avg</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;Average_Score&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;Calc_Average_Score&quot;</span><span class="p">]</span>

<span class="c1"># &#39;mean&#39; is mathematical word for &#39;average&#39;</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Calc_Average_Score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Hotel_Name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">Reviewer_Score</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="s1">&#39;mean&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Add a new column with the difference between the two average scores</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;Average_Score_Difference&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">get_difference_review_avg</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Create a df without all the duplicates of Hotel_Name (so only 1 row per hotel)</span>
<span class="n">review_scores_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Hotel_Name&quot;</span><span class="p">])</span>

<span class="c1"># Sort the dataframe to find the lowest and highest average score difference</span>
<span class="n">review_scores_df</span> <span class="o">=</span> <span class="n">review_scores_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Average_Score_Difference&quot;</span><span class="p">])</span>

<span class="n">display</span><span class="p">(</span><span class="n">review_scores_df</span><span class="p">[[</span><span class="s2">&quot;Average_Score_Difference&quot;</span><span class="p">,</span> <span class="s2">&quot;Average_Score&quot;</span><span class="p">,</span> <span class="s2">&quot;Calc_Average_Score&quot;</span><span class="p">,</span> <span class="s2">&quot;Hotel_Name&quot;</span><span class="p">]])</span>
</code></pre></div>
<p>You may also wonder about the <code>Average_Score</code> value and why it is sometimes different from the calculated average score. As we can't know why some of the values match, but others have a difference, it's safest in this case to use the review scores that we have to calculate the average ourselves. That said, the differences are usually very small, here are the hotels with the greatest deviation from the dataset average and the calculated average:</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Average_Score_Difference</th>
<th style="text-align: center;">Average_Score</th>
<th style="text-align: center;">Calc_Average_Score</th>
<th style="text-align: right;">Hotel_Name</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">-0.8</td>
<td style="text-align: center;">7.7</td>
<td style="text-align: center;">8.5</td>
<td style="text-align: right;">Best Western Hotel Astoria</td>
</tr>
<tr>
<td style="text-align: center;">-0.7</td>
<td style="text-align: center;">8.8</td>
<td style="text-align: center;">9.5</td>
<td style="text-align: right;">Hotel Stendhal Place Vend me Paris MGallery</td>
</tr>
<tr>
<td style="text-align: center;">-0.7</td>
<td style="text-align: center;">7.5</td>
<td style="text-align: center;">8.2</td>
<td style="text-align: right;">Mercure Paris Porte d Orleans</td>
</tr>
<tr>
<td style="text-align: center;">-0.7</td>
<td style="text-align: center;">7.9</td>
<td style="text-align: center;">8.6</td>
<td style="text-align: right;">Renaissance Paris Vendome Hotel</td>
</tr>
<tr>
<td style="text-align: center;">-0.5</td>
<td style="text-align: center;">7.0</td>
<td style="text-align: center;">7.5</td>
<td style="text-align: right;">Hotel Royal Elys es</td>
</tr>
<tr>
<td style="text-align: center;">...</td>
<td style="text-align: center;">...</td>
<td style="text-align: center;">...</td>
<td style="text-align: right;">...</td>
</tr>
<tr>
<td style="text-align: center;">0.7</td>
<td style="text-align: center;">7.5</td>
<td style="text-align: center;">6.8</td>
<td style="text-align: right;">Mercure Paris Op ra Faubourg Montmartre</td>
</tr>
<tr>
<td style="text-align: center;">0.8</td>
<td style="text-align: center;">7.1</td>
<td style="text-align: center;">6.3</td>
<td style="text-align: right;">Holiday Inn Paris Montparnasse Pasteur</td>
</tr>
<tr>
<td style="text-align: center;">0.9</td>
<td style="text-align: center;">6.8</td>
<td style="text-align: center;">5.9</td>
<td style="text-align: right;">Villa Eugenie</td>
</tr>
<tr>
<td style="text-align: center;">0.9</td>
<td style="text-align: center;">8.6</td>
<td style="text-align: center;">7.7</td>
<td style="text-align: right;">MARQUIS Faubourg St Honor Relais Ch teaux</td>
</tr>
<tr>
<td style="text-align: center;">1.3</td>
<td style="text-align: center;">7.2</td>
<td style="text-align: center;">5.9</td>
<td style="text-align: right;">Kube Hotel Ice Bar</td>
</tr>
</tbody>
</table>
<p>With only 1 hotel having a difference of score greater than 1, it means we can probably ignore the difference and use the calculated average score.</p>
<ol>
<li>
<p>Calculate and print out how many rows have column <code>Negative_Review</code> values of "No Negative" </p>
</li>
<li>
<p>Calculate and print out how many rows have column <code>Positive_Review</code> values of "No Positive"</p>
</li>
<li>
<p>Calculate and print out how many rows have column <code>Positive_Review</code> values of "No Positive" <strong>and</strong> <code>Negative_Review</code> values of "No Negative"</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c1"># with lambdas:</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">no_negative_reviews</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;Negative_Review&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;No Negative&quot;</span> <span class="k">else</span> <span class="kc">False</span> <span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of No Negative reviews: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">no_negative_reviews</span><span class="p">[</span><span class="n">no_negative_reviews</span> <span class="o">==</span> <span class="kc">True</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)))</span>

<span class="n">no_positive_reviews</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;Positive_Review&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;No Positive&quot;</span> <span class="k">else</span> <span class="kc">False</span> <span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of No Positive reviews: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">no_positive_reviews</span><span class="p">[</span><span class="n">no_positive_reviews</span> <span class="o">==</span> <span class="kc">True</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)))</span>

<span class="n">both_no_reviews</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;Negative_Review&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;No Negative&quot;</span> <span class="ow">and</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;Positive_Review&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;No Positive&quot;</span> <span class="k">else</span> <span class="kc">False</span> <span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of both No Negative and No Positive reviews: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">both_no_reviews</span><span class="p">[</span><span class="n">both_no_reviews</span> <span class="o">==</span> <span class="kc">True</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">)))</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Lambdas took &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; seconds&quot;</span><span class="p">)</span>

<span class="n">Number</span> <span class="n">of</span> <span class="n">No</span> <span class="n">Negative</span> <span class="n">reviews</span><span class="p">:</span> <span class="mi">127890</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">No</span> <span class="n">Positive</span> <span class="n">reviews</span><span class="p">:</span> <span class="mi">35946</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">both</span> <span class="n">No</span> <span class="n">Negative</span> <span class="ow">and</span> <span class="n">No</span> <span class="n">Positive</span> <span class="n">reviews</span><span class="p">:</span> <span class="mi">127</span>
<span class="n">Lambdas</span> <span class="n">took</span> <span class="mf">9.64</span> <span class="n">seconds</span>
</code></pre></div>
<h2 id="another-way">Another way<a class="headerlink" href="#another-way" title="Permanent link">‚öìÔ∏é</a></h2>
<p>Another way count items without Lambdas, and use sum to count the rows:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># without lambdas (using a mixture of notations to show you can use both)</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">no_negative_reviews</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Negative_Review</span> <span class="o">==</span> <span class="s2">&quot;No Negative&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of No Negative reviews: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">no_negative_reviews</span><span class="p">))</span>

<span class="n">no_positive_reviews</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Positive_Review&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;No Positive&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of No Positive reviews: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">no_positive_reviews</span><span class="p">))</span>

<span class="n">both_no_reviews</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">((</span><span class="n">df</span><span class="o">.</span><span class="n">Negative_Review</span> <span class="o">==</span> <span class="s2">&quot;No Negative&quot;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Positive_Review</span> <span class="o">==</span> <span class="s2">&quot;No Positive&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of both No Negative and No Positive reviews: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">both_no_reviews</span><span class="p">))</span>

<span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sum took &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; seconds&quot;</span><span class="p">)</span>

<span class="n">Number</span> <span class="n">of</span> <span class="n">No</span> <span class="n">Negative</span> <span class="n">reviews</span><span class="p">:</span> <span class="mi">127890</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">No</span> <span class="n">Positive</span> <span class="n">reviews</span><span class="p">:</span> <span class="mi">35946</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">both</span> <span class="n">No</span> <span class="n">Negative</span> <span class="ow">and</span> <span class="n">No</span> <span class="n">Positive</span> <span class="n">reviews</span><span class="p">:</span> <span class="mi">127</span>
<span class="n">Sum</span> <span class="n">took</span> <span class="mf">0.19</span> <span class="n">seconds</span>
</code></pre></div>
<p>You may have noticed that there are 127 rows that have both "No Negative" and "No Positive" values for the columns <code>Negative_Review</code> and <code>Positive_Review</code> respectively. That means that the reviewer gave the hotel a numerical score, but declined to write either a positive or negative review. Luckily this is a small amount of rows (127 out of 515738, or 0.02%), so it probably won't skew our model or results in any particular direction, but you might not have expected a data set of reviews to have rows with no reviews, so it's worth exploring the data to discover rows like this.</p>
<p>Now that you have explored the dataset, in the next lesson you will filter the data and add some sentiment analysis.</p>
<hr />
<h2 id="challenge">üöÄChallenge<a class="headerlink" href="#challenge" title="Permanent link">‚öìÔ∏é</a></h2>
<p>This lesson demonstrates, as we saw in previous lessons, how critically important it is to understand your data and its foibles before performing operations on it. Text-based data, in particular, bears careful scrutiny. Dig through various text-heavy datasets and see if you can discover areas that could introduce bias or skewed sentiment into a model. </p>
<h2 id="post-lecture-quiz"><a href="https://gray-sand-07a10f403.1.azurestaticapps.net/quiz/38/">Post-lecture quiz</a><a class="headerlink" href="#post-lecture-quiz" title="Permanent link">‚öìÔ∏é</a></h2>
<h2 id="review-self-study">Review &amp; Self Study<a class="headerlink" href="#review-self-study" title="Permanent link">‚öìÔ∏é</a></h2>
<p>Take <a href="https://docs.microsoft.com/learn/paths/explore-natural-language-processing/?WT.mc_id=academic-77952-leestott">this Learning Path on NLP</a> to discover tools to try when building speech and text-heavy models.</p>
<h2 id="assignment">Assignment<a class="headerlink" href="#assignment" title="Permanent link">‚öìÔ∏é</a></h2>
<p><a href="assignment/">NLTK</a></p>

  <hr>
<div class="md-source-file">
  <small>
    
      ÊúÄÂêéÊõ¥Êñ∞:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 22, 2023</span>
      
        <br>
        ÂàõÂª∫Êó•Êúü:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 22, 2023</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  ÂõûÂà∞È°µÈù¢È°∂ÈÉ®
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="È°µËÑö" >
        
          
          <a href="../3-Translation-Sentiment/solution/R/" class="md-footer__link md-footer__link--prev" aria-label="‰∏ä‰∏ÄÈ°µ: Index">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                ‰∏ä‰∏ÄÈ°µ
              </span>
              <div class="md-ellipsis">
                Index
              </div>
            </div>
          </a>
        
        
          
          <a href="assignment/" class="md-footer__link md-footer__link--next" aria-label="‰∏ã‰∏ÄÈ°µ: NLTK">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                ‰∏ã‰∏ÄÈ°µ
              </span>
              <div class="md-ellipsis">
                NLTK
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 Ean Yang
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/YQisme" target="_blank" rel="noopener" title="github‰∏ªÈ°µ" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://space.bilibili.com/244185393?spm_id_from=333.788.0.0" target="_blank" rel="noopener" title="bÁ´ô‰∏ªÈ°µ" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79 0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0s16.1 2.868 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0c8.8 0 16.1 2.868 21.9 8.603 5.7 5.737 8.6 12.997 8.6 21.797 0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1zm-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8 6.3-6.5 9.7-14.3 10.1-23.5V173.8zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5-9.6 0-17.5-3.2-23.6-9.5-6.1-6.3-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2 6.3-6.3 13.2-9.6 23.3-10 9.2.4 17 3.7 23.3 10zm191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.1 6.3-14 9.5-23.6 9.5-9.6 0-17.4-3.2-23.6-9.5-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2 6.3-6.3 14.1-9.6 23.3-10 9.2.4 17 3.7 23.3 10z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://eanyang7.com" target="_blank" rel="noopener" title="‰∏™‰∫∫‰∏ªÈ°µ" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M112 48a48 48 0 1 1 96 0 48 48 0 1 1-96 0zm40 304v128c0 17.7-14.3 32-32 32s-32-14.3-32-32V256.9l-28.6 47.6c-9.1 15.1-28.8 20-43.9 10.9s-20-28.8-10.9-43.9l58.3-97c17.4-28.9 48.6-46.6 82.3-46.6h29.7c33.7 0 64.9 17.7 82.3 46.6l58.3 97c9.1 15.1 4.2 34.8-10.9 43.9s-34.8 4.2-43.9-10.9L232 256.9V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V352h-16z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.prune", "navigation.top", "toc.follow", "header.autohide", "navigation.footer", "search.suggest", "search.highlight", "search.share", "content.action.edit", "content.action.view", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6c14ae12.min.js"></script>
      
    
  </body>
</html>